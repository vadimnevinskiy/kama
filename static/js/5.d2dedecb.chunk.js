(this.webpackJsonpkama=this.webpackJsonpkama||[]).push([[5],{117:function(e,t,n){"use strict";n.r(t);n(0);var r=n(95),i=n.n(r),a=n(17),o=n(1),u=function(e){var t="/dialogs/"+e.id;return Object(o.jsx)(a.b,{className:i.a.dialog,activeClassName:i.a.activeDialog,to:t,children:e.name})},c=function(e){return Object(o.jsx)("div",{className:i.a.message,children:e.message})},s=n(90),l=n(92),d=n(94),f=function(e){return Object(o.jsx)(s.b,{onSubmit:e.onSubmit,render:function(e){var t=e.handleSubmit;e.form,e.submitting,e.pristine,e.values;return Object(o.jsx)("form",{onSubmit:t,children:Object(o.jsxs)("div",{className:i.a.form,children:[Object(o.jsx)("div",{className:i.a.fieldBox,children:Object(o.jsx)(s.a,{component:l.b,name:"messageText",placeholder:"Enter message..",validate:Object(d.a)(d.c,Object(d.b)(80))})}),Object(o.jsx)("div",{className:i.a.buttonBox,children:Object(o.jsx)("button",{className:i.a.button,children:Object(o.jsx)("span",{className:"".concat(i.a.buttonIcon," material-icons"),children:"send"})})})]})})}})},b=function(e){var t=e.dialogs.users.map((function(e){return Object(o.jsx)(u,{name:e.name,id:e.id},e.id)})),n=e.dialogs.messages.map((function(e){return Object(o.jsx)(c,{message:e.text},e.id)}));return Object(o.jsxs)("div",{className:i.a.dialogs,children:[Object(o.jsx)("div",{className:i.a.dialogsList,children:t}),Object(o.jsxs)("div",{className:i.a.messagesList,children:[n,Object(o.jsx)(f,{onSubmit:function(t){e.addMessage(t.messageText)}})]})]})},m=n(51),v=n(14),O=n(96),j=n(13);t.default=Object(j.d)(Object(v.b)((function(e){return{messageText:e.dialogs.messageText,dialogs:e.dialogs}}),(function(e){return{addMessage:function(t){e(Object(m.a)(t))}}})),O.a)(b)},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return p}));var r=n(2),i=n(6),a=n(0),o=n.n(a),u=n(28);function c(e,t,n){var r=e.render,o=e.children,u=e.component,c=Object(i.a)(e,["render","children","component"]);if(u)return Object(a.createElement)(u,Object.assign(t,c,{children:o,render:r}));if(r)return r(void 0===o?Object.assign(t,c):Object.assign(t,c,{children:o}));if("function"!==typeof o)throw new Error("Must specify either a render prop, a render function as children, or a component prop to "+n);return o(Object.assign(t,c))}function s(e,t,n){void 0===n&&(n=function(e,t){return e===t});var r=o.a.useRef(e);o.a.useEffect((function(){n(e,r.current)||(t(),r.current=e)}))}var l=function(e,t){if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),a=0;a<n.length;a++){var o=n[a];if(!i(o)||e[o]!==t[o])return!1}return!0},d=function(e){return!(!e||"function"!==typeof e.stopPropagation)},f=Object(a.createContext)();function b(e){var t=o.a.useRef(e);return o.a.useEffect((function(){t.current=e})),t}var m=function(e,t,n){n.forEach((function(n){Object.defineProperty(e,n,{get:function(){return t[n]},enumerable:!0})}))},v=function(e,t){return m(e,t,["active","dirty","dirtyFields","dirtySinceLastSubmit","dirtyFieldsSinceLastSubmit","error","errors","hasSubmitErrors","hasValidationErrors","initialValues","invalid","modified","modifiedSinceLastSubmit","pristine","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},O={"final-form":u.e,"react-final-form":"6.5.2"},j=u.d.reduce((function(e,t){return e[t]=!0,e}),{});function p(e){var t=e.debug,n=e.decorators,m=e.destroyOnUnregister,p=e.form,g=e.initialValues,h=e.initialValuesEqual,x=e.keepDirtyOnReinitialize,y=e.mutators,_=e.onSubmit,S=e.subscription,E=void 0===S?j:S,w=e.validate,F=e.validateOnBlur,V=Object(i.a)(e,["debug","decorators","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","onSubmit","subscription","validate","validateOnBlur"]),C={debug:t,destroyOnUnregister:m,initialValues:g,keepDirtyOnReinitialize:x,mutators:y,onSubmit:_,validate:w,validateOnBlur:F},D=function(e){var t=o.a.useRef();return t.current||(t.current=e()),t.current}((function(){var e=p||Object(u.b)(C);return e.pauseValidation(),e})),k=Object(a.useState)((function(){var e={};return D.subscribe((function(t){e=t}),E)(),e})),N=k[0],B=k[1],R=b(N);Object(a.useEffect)((function(){D.isValidationPaused()&&D.resumeValidation();var e=[D.subscribe((function(e){l(e,R.current)||B(e)}),E)].concat(n?n.map((function(e){return e(D)})):[]);return function(){D.pauseValidation(),e.reverse().forEach((function(e){return e()}))}}),[n]),s(t,(function(){D.setConfig("debug",t)})),s(m,(function(){D.destroyOnUnregister=!!m})),s(x,(function(){D.setConfig("keepDirtyOnReinitialize",x)})),s(g,(function(){D.setConfig("initialValues",g)}),h||l),s(y,(function(){D.setConfig("mutators",y)})),s(_,(function(){D.setConfig("onSubmit",_)})),s(w,(function(){D.setConfig("validate",w)})),s(F,(function(){D.setConfig("validateOnBlur",F)}));var L={form:Object(r.a)({},D,{reset:function(e){d(e)?D.reset():D.reset(e)}}),handleSubmit:function(e){return e&&("function"===typeof e.preventDefault&&e.preventDefault(),"function"===typeof e.stopPropagation&&e.stopPropagation()),D.submit()}};return v(L,N),Object(a.createElement)(f.Provider,{value:D},c(Object(r.a)({},V,{__versions:O}),L,"ReactFinalForm"))}function g(e){var t=Object(a.useContext)(f);if(!t)throw new Error((e||"useForm")+" must be used inside of a <Form> component");return t}var h="undefined"!==typeof window&&window.navigator&&window.navigator.product&&"ReactNative"===window.navigator.product,x=u.c.reduce((function(e,t){return e[t]=!0,e}),{}),y=function(e,t){return void 0===e?"":e},_=function(e,t){return""===e?void 0:e},S=function(e,t){return e===t};function E(e,t){void 0===t&&(t={});var n=t,i=n.afterSubmit,o=n.allowNull,u=n.component,c=n.data,s=n.defaultValue,l=n.format,d=void 0===l?y:l,f=n.formatOnBlur,v=n.initialValue,O=n.multiple,j=n.parse,p=void 0===j?_:j,E=n.subscription,w=void 0===E?x:E,F=n.type,V=n.validateFields,C=n.value,D=g("useField"),k=b(t),N=function(t,n){return D.registerField(e,t,w,{afterSubmit:i,beforeSubmit:function(){var t=k.current,n=t.beforeSubmit,r=t.formatOnBlur,i=t.format,a=void 0===i?y:i;if(r){var o=D.getFieldState(e).value,u=a(o,e);u!==o&&D.change(e,u)}return n&&n()},data:c,defaultValue:s,getValidator:function(){return k.current.validate},initialValue:v,isEqual:function(e,t){return(k.current.isEqual||S)(e,t)},silent:n,validateFields:V})},B=Object(a.useRef)(!0),R=Object(a.useState)((function(){var e={},t=D.destroyOnUnregister;return D.destroyOnUnregister=!1,N((function(t){e=t}),!0)(),D.destroyOnUnregister=t,e})),L=R[0],A=R[1];Object(a.useEffect)((function(){return N((function(e){B.current?B.current=!1:A(e)}),!1)}),[e,c,s,v]);var P={onBlur:Object(a.useCallback)((function(e){if(L.blur(),f){var t=D.getFieldState(L.name);L.change(d(t.value,L.name))}}),[L.blur,L.name,d,f]),onChange:Object(a.useCallback)((function(t){var n=t&&t.target?function(e,t,n,r){if(!r&&e.nativeEvent&&void 0!==e.nativeEvent.text)return e.nativeEvent.text;if(r&&e.nativeEvent)return e.nativeEvent.text;var i=e.target,a=i.type,o=i.value,u=i.checked;switch(a){case"checkbox":if(void 0!==n){if(u)return Array.isArray(t)?t.concat(n):[n];if(!Array.isArray(t))return t;var c=t.indexOf(n);return c<0?t:t.slice(0,c).concat(t.slice(c+1))}return!!u;case"select-multiple":return function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r=e[n];r.selected&&t.push(r.value)}return t}(e.target.options);default:return o}}(t,L.value,C,h):t;L.change(p(n,e))}),[C,e,p,L.change,L.value,F]),onFocus:Object(a.useCallback)((function(e){L.focus()}),[L.focus])},q={};!function(e,t){m(e,t,["active","data","dirty","dirtySinceLastSubmit","error","initial","invalid","length","modified","modifiedSinceLastSubmit","pristine","submitError","submitFailed","submitSucceeded","submitting","touched","valid","validating","visited"])}(q,L);var I=Object(r.a)({name:e,get value(){var t=L.value;return f?"input"===u&&(t=y(t)):t=d(t,e),null!==t||o||(t=""),"checkbox"===F||"radio"===F?C:"select"===u&&O?t||[]:t},get checked(){var t=L.value;return"checkbox"===F?(t=d(t,e),void 0===C?!!t:!(!Array.isArray(t)||!~t.indexOf(C))):"radio"===F?d(t,e)===C:void 0}},P);return O&&(I.multiple=O),void 0!==F&&(I.type=F),{input:I,meta:q}}var w=Object(a.forwardRef)((function(e,t){var n=e.afterSubmit,o=e.allowNull,u=e.beforeSubmit,s=e.children,l=e.component,d=e.data,f=e.defaultValue,b=e.format,m=e.formatOnBlur,v=e.initialValue,O=e.isEqual,j=e.multiple,p=e.name,g=e.parse,h=e.subscription,x=e.type,y=e.validate,_=e.validateFields,S=e.value,w=Object(i.a)(e,["afterSubmit","allowNull","beforeSubmit","children","component","data","defaultValue","format","formatOnBlur","initialValue","isEqual","multiple","name","parse","subscription","type","validate","validateFields","value"]),F=E(p,{afterSubmit:n,allowNull:o,beforeSubmit:u,children:s,component:l,data:d,defaultValue:f,format:b,formatOnBlur:m,initialValue:v,isEqual:O,multiple:j,parse:g,subscription:h,type:x,validate:y,validateFields:_,value:S});if("function"===typeof s)return s(Object(r.a)({},F,w));if("string"===typeof l)return Object(a.createElement)(l,Object(r.a)({},F.input,{children:s,ref:t},w));if(!p)throw new Error("prop name cannot be undefined in <Field> component");return c(Object(r.a)({children:s,component:l,ref:t},w),F,"Field("+p+")")}))},91:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},92:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(3),i=n(91),a=(n(0),n(93)),o=n.n(a),u=n(90),c=n(1),s=function(e){e.input;var t=e.meta,n=t.touched,r=t.error,i=e.children,a=n&&r;return Object(c.jsxs)("div",{className:o.a.formControl+" "+(a?o.a.error:""),children:[Object(c.jsx)("div",{children:i}),a&&Object(c.jsx)("span",{children:r})]})},l=function(e){var t=e.input,n=(e.meta,Object(i.a)(e,["input","meta"]));return Object(c.jsx)(s,Object(r.a)(Object(r.a)({},e),{},{children:Object(c.jsx)("textarea",Object(r.a)(Object(r.a)(Object(r.a)({},t),n),{},{className:o.a.fieldTextarea}))}))},d=function(e){var t=e.input,n=(e.meta,Object(i.a)(e,["input","meta"]));return Object(c.jsx)(s,Object(r.a)(Object(r.a)({},e),{},{children:Object(c.jsx)("input",Object(r.a)(Object(r.a)(Object(r.a)({},t),n),{},{className:o.a.fieldInput}))}))},f=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return Object(c.jsxs)("div",{children:[o&&Object(c.jsx)("label",{children:o}),Object(c.jsx)(u.a,Object(r.a)({component:e,name:n,placeholder:t,validate:i},a))]})}},93:function(e,t,n){e.exports={formControl:"FormControls_formControl__2F5Oo",error:"FormControls_error__46VGi",fieldTextarea:"FormControls_fieldTextarea__choeL",fieldInput:"FormControls_fieldInput__3M6Uk"}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),void 0)}},i=function(e){return e?void 0:"Required"},a=function(e){return function(t){return t&&t.length>e?"Max length ".concat(e," symbols"):void 0}}},95:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__LSQrY",dialogsList:"Dialogs_dialogsList__30H2O",dialog:"Dialogs_dialog__3QTON",activeDialog:"Dialogs_activeDialog__3fSD0",messagesList:"Dialogs_messagesList__1Qs13",message:"Dialogs_message__32MgI",form:"Dialogs_form__27RJQ",fieldBox:"Dialogs_fieldBox__1yrm5",field:"Dialogs_field__3POhY",buttonBox:"Dialogs_buttonBox__1Hxbp",button:"Dialogs_button__3qBtJ",buttonIcon:"Dialogs_buttonIcon__3hwZR"}},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(3),i=n(24),a=n(25),o=n(27),u=n(26),c=n(0),s=n.n(c),l=n(5),d=n(14),f=n(1),b=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(o.a)(c,t);var n=Object(u.a)(c);function c(){return Object(i.a)(this,c),n.apply(this,arguments)}return Object(a.a)(c,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(e,Object(r.a)({},this.props)):Object(f.jsx)(l.a,{to:"/login"})}}]),c}(s.a.Component);return Object(d.b)(b)(t)}}}]);
//# sourceMappingURL=5.d2dedecb.chunk.js.map